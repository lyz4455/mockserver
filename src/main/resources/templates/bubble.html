<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>mockserver</title>
</head>
<body>
<!--<div id="bubbleStatus" type="text" ></div>-->
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script>
    setInterval("test()",100);
    function test() {
        $.ajax({
            url: "/bubble/backIndex",//后台提供的接口
            type: "post",  //请求方式是post
            dataType: "json", //数据类型是json型
            success: function (data) {  //成功时返回的data值，注意这个data是后台返回的值，上面的data是你要传给后台的值
                console.log(data);//可以在控制台查看打印的data值

                switch(data){//根据后台返回的data.SuccessCode来判断执行什么语句
                    case 0:
                        document.getElementById('myBubble').src="../img/pic_bulboff.gif";
                        document.getElementById("bubbleStatus").innerHTML = "0"
                        break;
                    case 1:
                        document.getElementById('myBubble').src="../img/pic_bulbon.gif";
                        document.getElementById("bubbleStatus").innerHTML = "1"
                        break;
                    default:
                        alert("系统繁忙，请稍后再试");
                }
            },
        });
    }
    // setTimeout("location=location;", 50);

</script>
<img id="myBubble"  src="../img/pic_bulboff.gif" width="100" height="180" >
<p>灯泡</p>

</body>
</html>